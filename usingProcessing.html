<!DOCTYPE html>
<!-- This is based on DillingerLee's great template here:
https://github.com/Team-Code/KA_Offline -->
<html> 
 <head>
    <title>Processing.JS inside Webpages: Template</title> 
</head>
 <body>
    <p align="center"> 
	<!--This draws the Canvas on the webpage -->
      <canvas id="mycanvas"></canvas> 
    </p>
 </body>
 
 <!-- Run all the JavaScript stuff -->
 <!-- Include the processing.js library -->
 <!-- See https://khanacademy.zendesk.com/hc/en-us/articles/202260404-What-parts-of-ProcessingJS-does-Khan-Academy-support- for differences -->
 <script src="https://cdn.jsdelivr.net/processing.js/1.4.8/processing.min.js"></script> 
 
 <script>
    var sketchProc = function(processingInstance) {
     with (processingInstance) {
        size(800, 650); 
        frameRate(30);

        // ProgramCodeGoesHere
        let arrayOfRandomNumbers = []
        
        for (var i = 0; i < 60; i++) {
          var ranX = random(-40, 800);
          var ranH = random(40, 50);
          var ranW = random(-200, -100);
          arrayOfRandomNumbers.push([ranX, ranH, ranW]);
        }

        var sunMovement = 650;
        draw = function () {
          background(161, 246, 252);
          fill(255, 255, 0);
          
          noStroke();
          ellipse(200, sunMovement, 200, 200);
          noFill();
          stroke(0, 0, 0);
          strokeWeight(2);
          arc(200, sunMovement, 150, 100, 0, PI);
          fill(0, 0, 0);
          ellipse(250, sunMovement, 10, 10);
          ellipse(153, sunMovement, 10, 10);
          sunMovement-=3;
          
          fill(180, 220, 220);
          
          for (var j = 0; j < arrayOfRandomNumbers.length; j++) {
            rect(arrayOfRandomNumbers[j][0], 400,
                 arrayOfRandomNumbers[j][1],
                 arrayOfRandomNumbers[j][2]);
          }

          fill(250, 0, 0);
  
          var moveToX = -10;
          var moveToY = -60;
            
          var newHouse = function (number) {
            for (let i = 0; i < number; i++) {
              rect(10 + moveToX, 450 + moveToY, 120, 180);
              triangle(5  + moveToX, 450 + moveToY,
                      70  + moveToX, 385 + moveToY,
                      135 + moveToX, 450 + moveToY
              );
              quad(70 + moveToX, 385 + moveToY,
                  135 + moveToX, 450 + moveToY,
                  270 + moveToX, 440 + moveToY,
                  200 + moveToX, 380 + moveToY
              );

              quad(130 + moveToX, 450 + moveToY,
                   130 + moveToX, 630 + moveToY,
                   265 + moveToX, 610 + moveToY,
                   265 + moveToX, 440 + moveToY
              );

              
              moveToX += 130;
              moveToY -= 10;
            } 
            
          };
          newHouse(6);

          fill(80, 80, 80);
          quad(0, 650, 0, 570, 1000, 495, 650, 800);
          
          fill(120, 120, 120);
          quad(0, 650, 0, 580, 1000, 505, 650, 800);
          
          fill(0, 180, 0);
          quad(0, 650, 0, 570, 1000, 610, 650, 800);
          
          fill(0, 255, 0);
          rect(0, 620, 800, 30)
          
        }
        
        



    }};

    // Get the canvas that Processing-js will use
    var canvas = document.getElementById("mycanvas"); 
    // Pass the function sketchProc (defined in myCode.js) to Processing's constructor.
    var processingInstance = new Processing(canvas, sketchProc); 
 </script>

</html>